### 3장. 함수

- **작게 만들어라!**
    - 함수는 짧을수록 좋다
    - 블록과 들여쓰기
        - if/else 문, while 문 등에 들어가는 블록은 한 줄이어야 한다.
        - 각 조건에 따라 실행하는 그 기능을 새로운 함수로 빼내 구현하고(물론 작명을 잘해서), 그 함수를 호출하는 방식으로 작성하라는 말이다.
- **한 가지만 해라!**
    - 여기서 말하는 한 가지는 추상화 수준이 하나인 것을 말한다.
    - 예시로 세 가지를 하는 것으로 보이지만 실상 추상화 수준이 하나인 것을 들었다.
        1. 페이지가 테스트 페이지인지 판단한다.
        2. 그렇다면 설정 페이지와 해제 페이지를 넣는다.
        3. 페이지를 HTML로 렌더링한다.
        
        ⇒ 해당 함수는 간단한 TO 문단으로 기술할 수 있다.
        
        : TO RenderPageWithWetupsAndTeardowns, 페이지가 테스트 페이지인지 확인한 후 테스트 페이지라면 설정 페이지와 해제 페이지를 넣는다. 테스트 페이지든 아니든 페이지를 HTML로 렌더링한다.
        
        ⇒ 사실 추상화 수준이 하나라는게 아리송하다.
        
    - 판단하기 제일 좋은 방식은, ‘의미 있는 이름으로 다른 함수를 추출해낼 수 있는가’를 살피면 될 것같다.
- 위에서 아래로 코드 읽기: **내려가기** 규칙
    - 위에서 아래로 프로그램을 읽을 때 함수 추상화 수준이 한 번에 한 단계씩 낮아진다.
    - TO A면 B가 되고 C이면 D가 된다.
        - TO A이려면 X가 Y를 어쩌구해야한다.
        - TO C이려면 P가 F를 어쩌구해야한다.
            - 이런식이다.
- **Switch 문**
    - switch 문의 각 case에서는 함수를 직접 구현할게 아니라 호출하는 식으로 작성해야한다.
- **서술적인 이름을 사용하라!**
    - 확실히 함수명을 서술적으로 작성하려고 하면, 작성해보면서 내가 이 함수를 통해 궁극적으로 뭘 하고자 했던 것인지 스스로 생각해보기가 좋다.
    - 근래에 함수명 너무 길게 써서 걱정됐으면서도 그래도 최선이었다고 생각하는 이름이 있다.
        - findKnowledgeCenterListByRegionAndBudget
- **함수 인수**
    - 함수에서 이상적인 인수 개수는 0개라고 한다. 3개부터는 가능하면 피하라고 한다.
    - (근데 인수가 없으면 이벤트를 발생시키고자 하는 변수는 어디로부터 접근해..?)
    - 이항부터는 인수 순서를 메서드 명을 통해 알 수 있도록 명명하거나, 하나의 객체로서 묶어서 보낼 수 있도록한다.
    - 단항 함수는 함수와 인수가 동사/명사 쌍을 이뤄야 한다.
        - writeField(name)
- **부수 효과를 일으키지 마라!**
    - 메서드 명을 통해 알 수 없는 일이 함수 내에서 실행되면 안된다.
    - 예시 3-6에서 `Session.initialize()` 가 발생하기 때문에 checkPassword라는 메서드명을 checkPasswordAndInitializeSession 이라는 이름으로 변경하라고 한다.
        - 그리고 ‘한 가지’만 한다는 규칙을 위반한다고 말한다.
        - 근데 그럼 3-6과 같은 기능을 수행하면서 ‘함수 하나당 한가지 기능’이라는 규칙을 지키려면 어떻게 작성해야 맞을까? `Session.initiallize()` 를 별도의 함수로 분리할지라도 결국 최상위 메서드의 이름은 checkPasswordAndInitializeSession 이어야하지 않나?
- **오류 코드보다 예외를 사용하라!**
    - 우선, 오류 코드는 앞으로도 더 추가될 가능성도 큰데다가, 오류 코드가 수정되면 해당 코드를 사용하고 있던 곳에 모두 영향이 가기때문에 오류 코드 대신 예외를 사용해야한다.
    - Try/Catch 블록도 ‘오류만 처리하는 함수’로서 ‘한 가지’ 작업만 할 수 있도록 뽑아낸다.
- **함수를 어떻게 짜죠?**
    - 함수를 ‘예쁘게’ 짜기 어려워하는게, 처음부터 ‘예쁘게’ 짜려고 해서 그런것같다. 우선은 작성하고, 그 안에서 새로운 함수를 분류해내고, 명명을 고민하는 시간을 충분히 갖도록하자.
    - 근데 여기서 전제는 해당 함수를 수정해 나아가면서 단위테스트를 계속 통과할 수 있어야함.. TDD 가 필요한 이 시점,,
